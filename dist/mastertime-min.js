var Mastertime=function(){function t(){var t=[],e=-1;this._getTimeBase=function(){return t},this._createTimeBaseRoom=function(){var e=t.length;return t[e]=[],e},this._putTimeBaseRoom=function(e,n){t[e].push(n)},this._getLastRoomIndex=function(){return e},this._setLastRoomIndex=function(t){e=t},this._resetLastRoomIndex=function(){e=-1},this._wayDetector=function(t){return t.start?t.end?t.start>t.end?t.way="down":t.way="up":t.way||(t.end=t.start>0?0:1/0,t.way=t.start>0?"down":"up"):t.end&&(t.start=0,t.way=t.end>0?"up":"down"),t}}return t.prototype.add=function(t){if(!t)return this;for(var e,n=this._createTimeBaseRoom(),o=0,r=(e=Array.isArray(t)?t:[t]).length;o<r;o++){var s=this._wayDetector(e[o]);if(s.start||s.end||s.way)if(s.target)for(var a=document.querySelectorAll(e[o].target),i=0,u=a.length;i<u;i++)s.target=a[i],this._putTimeBaseRoom(n,s);else this._putTimeBaseRoom(n,s)}return this._setLastRoomIndex(n),this},t.prototype.run=function(){for(var t=this._getLastRoomIndex(),e=this._getTimeBase()[t],n=0,o=e.length;n<o;n++)console.log(e,n,e[n],e[n].start),setInterval(function(){console.log(e[n])},1e3);this._resetLastRoomIndex()},t}();