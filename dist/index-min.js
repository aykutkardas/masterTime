var MasterTime=function(){function t(){this.activeGroupIndex=!1,this.storage=[],this.regexStorage={fullDateRegex:/([\d]{2}\.[\d]{2}\.[\d]{4})\ ([\d]{2}\:[\d]{2}\:[\d]{2})/,dateRegex:/([\d]{2}\.[\d]{2}\.[\d]{4})/,timeRegex:/([\d]{2}\:[\d]{2}\:[\d]{2})/}}return t.prototype.msToSecond=function(t){return Math.floor(t/1e3)},t.prototype.msToMinute=function(t){return Math.floor(t/1e3/60)},t.prototype.msToHour=function(t){return Math.floor(t/1e3/60/60)},t.prototype.msToDay=function(t){return Math.floor(t/1e3/60/60/24)},t.prototype.msToWeek=function(t){return Math.floor(t/1e3/60/60/24/7)},t.prototype.msToMonth=function(t){return Math.floor(t/1e3/60/60/24/7/4)},t.prototype.msToYear=function(t){return Math.floor(t/1e3/60/60/24/7/4/12)},t.prototype.dateCompletion=function(t){var e=this.regexStorage.fullDateRegex.exec(t);if(e)return e[0];var r=this.regexStorage.dateRegex.exec(t);if(r)return r[0]+" 00:00:00";var n=this.regexStorage.timeRegex.exec(t);return!!n&&(new Date).toLocaleDateString()+" "+n[0]},t.prototype.dateFormatTransform=function(t){if(!this.regexStorage.fullDateRegex.exec(t))return!1;var e,r=t.split(" ");return r[1]||(r[1]=""),e=r[0].split("."),["January","February","March","April","May","June","July","August","September","October","November","December"][Number(e[1])-1]+" "+e[0]+", "+e[2]+" "+r[1]},t.prototype.getTimeDiff=function(t,e){return!!t&&new Date(t).getTime()-(e?new Date(e).getTime():(new Date).getTime())},t.prototype.msToCustom=function(t,e){if(!t)return!1;var r,n,a={Y:31556926e3,M:2629743830,W:6048e5,D:864e5,h:36e5,m:6e4,s:1e3,u:1};r=e?e.split(":"):["Y","M","W","D","h","m","s","u"];var o={};for(n in a)"u"===n&&r.indexOf(n)>-1?o[n]=Math.floor(t):r.indexOf(n)>-1&&(o[n]=Math.floor(t/a[n]),t%=a[n]);return o},t.prototype.dateIsGreater=function(t,e){if(!t||!e)return!1;var r=this.dateFormatTransform(t);if("string"!=typeof r)return!1;var n=this.dateFormatTransform(e);if("string"!=typeof n)return!1;new Date(r).getTime(),new Date(n).getTime();return t>e},t.prototype.dateIsLess=function(t,e){if(!t||!e)return!1;var r=this.dateFormatTransform(t);if("string"!=typeof r)return!1;var n=this.dateFormatTransform(e);if("string"!=typeof n)return!1;new Date(r).getTime(),new Date(n).getTime();return t<e},t.prototype.dateIsEqual=function(t,e){if(!t||!e)return!1;var r=this.dateFormatTransform(t);if("string"!=typeof r)return!1;var n=this.dateFormatTransform(e);if("string"!=typeof n)return!1;new Date(r).getTime(),new Date(n).getTime();return t===e},t.prototype.leftPad=function(t,e){if(!e)return t;var r;r=!0===e?["Y","M","W","D","h","m","s","u"]:e.split(":");var n,a={};for(n in t)r.indexOf(n)>-1&&(a[n]=parseInt(t[n])<10?"0"+t[n]:t[n]);return Object.assign(t,a),t},t.prototype.templateApply=function(t,e,r){if(!t)return!1;var n,a,o,m;for(n in r&&r.leftPad&&(e=this.leftPad(e,r.leftPad)),e)t=(m=new RegExp("[^\\/&^\\[]{0}\\[([^\\&^\\[&^\\]]*)\\{(.)\\}([^\\[]*)[^\\/]\\]".replace(".",n),"gmi")).exec(t)?parseInt(e[n])?t.replace(m,"$1"+e[n]+"$3"):t.replace(m,""):(a=new RegExp("\\/(\\[[^\\!&^\\[&^\\]]*)\\{(.)\\}([^\\[&^\\]]*)\\/(\\])".replace(".",n),"gmi")).exec(t)?t.replace(a,"$1"+e[n]+"$3$4"):(o=new RegExp("\\/\\[(\\[[^\\[&^\\]]*)\\{(.)\\}([^\\[&^\\]]*)\\/(\\])\\]".replace(".",n),"gmi")).exec(t)?parseInt(e[n])?t.replace(o,"$1"+e[n]+"$3$4"):t.replace(o,""):t.replace("{"+n+"}",e[n]);return t},t.prototype.htmlSelect=function(t){if("object"!=typeof t)return!1;var e,r={mtStartDate:null,mtEndDate:null,mtStart:null,mtEnd:null,mtOnStart:null,mtOnInterval:null,mtOnEnd:null,mtName:null,mtTemplate:null,mtWay:null,mtAgo:null,mtTarget:null};for(e in r)r[e]=t.getAttribute(e);return r.mtTarget=t,this.htmlSelectFormatter(r)},t.prototype.htmlSelectFormatter=function(t){var e={mtStartDate:null,mtEndDate:null,mtStart:null,mtEnd:null,mtOnStart:null,mtOnInterval:null,mtOnEnd:null,mtName:null,mtTemplate:null,mtWay:null,mtAgo:null,mtTarget:null};return e.mtStartDate=t.mtStartDate,e.mtEndDate=t.mtEndDate,e.mtName=t.mtName,e.mtTemplate=t.mtTemplate,e.mtWay=t.mtWay,e.mtTarget=t.mtTarget,t.mtStart&&(e.mtStart=parseInt(t.mtStart)),t.mtEnd&&(e.mtEnd=parseInt(t.mtEnd)),t.mtOnStart&&(e.mtOnStart=new Function("$MT",t.mtOnStart)),t.mtOnInterval&&(e.mtOnInterval=new Function("$MT",t.mtOnInterval)),t.mtOnEnd&&(e.mtOnEnd=new Function(t.mtOnEnd)),e.mtAgo=Boolean(t.mtEnd),e},t.prototype.htmlRemoveAttr=function(t){if(!t)return!1;var e,r=["mtStartDate","mtEndDate","mtStart","mtEnd","mtOnStart","mtOnInterval","mtOnEnd","mtName","mtTemplate","mtWay","mtAgo"];for(e in r)t.removeAttribute(r[e]);return!0},t.prototype.addTimer=function(t){if(!t)return!1;var e=this.storage.length;if(this.storage[e]||(this.storage[e]=[]),Array.isArray(t))for(var r=void 0,n=t.length;r<n;r++)this.storage[e].push(t);else this.storage[e].push(t);return e},t.prototype.machine=function(t){var e=this.msToCustom(1e3*t.mtStart,"h:m:s");t.mtTarget.innerHTML=this.templateApply(e,"{h}:{m}:{s}",{leftPad:!0})},t.prototype.build=function(t){if(!t||"string"!=typeof t)return!1;for(var e=[].concat.apply([],document.querySelectorAll(t)),r=0,n=e.length,a=[];r<n;r++){var o=this.htmlSelect(e[r]);o&&"object"==typeof o&&a.push(o)}return this.activeGroupIndex=this.addTimer(a),this},t.prototype.run=function(){if("boolean"==typeof this.activeGroupIndex)return!1;for(var t=this.storage[this.activeGroupIndex],e=0,r=t.length;e<r;e++)this.machine(t[e])},t}();